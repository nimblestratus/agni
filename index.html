<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <link rel="stylesheet" type="text/css" href="stylesheets/prettify.css" >
    <script src="javascripts/prettify.js"></script>
    <script src="https://cdn.rawgit.com/knsv/mermaid/master/dist/mermaid.full.min.js"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Agni by nimblestratus</title>
<script>
  !function ($) {
    $(function(){
      window.prettyPrint && prettyPrint()
    })
  }(window.jQuery)
</script>
  </head>

  <body>
    <header>
      <div class="inner">
        <img src="images/agni-logo.png" />
        <h2>Cloud Event Manager</h2>
        <a href="https://github.com/nimblestratus/agni" class="button"><small>View project on</small> GitHub</a>
      </div>
      <menu>
	<div class="inner menu">
	  <a href="#quickstart" class="menu-button"><small>Quickstart</small></a>
	  <a href="#architecture" class="menu-button"><small>Architecture</small></a>
	</div>
      </menu>
    </header>
    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="welcome-to-agni" class="anchor" href="#welcome-to-agni" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to Agni.</h1>

<p><a href="http://agni.nimblestrat.us">Agni</a> is a cloud event manager inspired by Amazon's <a href="http://amazon.com/lambda">AWS Lambda</a>. Agni differs from Lambda as of 28 November 2014 in what we feel are two important fashions:</p>
<ul>
<li>Language agnostic</li>
<li>Built upon open source</li>
</ul>
<img src="images/flocking.jpg" alt="Are ewe flocking?">
<h2>
<a id="architecture" class="anchor" href="#architecture" aria-hidden="true"><span class="octicon octicon-link"></span></a>Architecture</h2>
<h3>Technologies</h3>
<ul>
<li>Docker <ul>
    <li>Docker Language Stacks</li>
    <li>Docker Registry</li>
    <li>Swarm</li>
</li>
<li>Redis</li>
</ul>

<h3>Registration</h3>
<p>
Functions are registered by a user by sending a message to the Build Queue.
</p>
<div class="mermaid">
graph LR;
  A(User)-->C>Redis Builder Queue];  
  C-->D{Builder};
  E(Docker Language Stacks)-->D;
  D-->F[Docker Registry];
  D-->G[Redis Event Listeners];
  
  classDef user fill:#aaf;
  classDef default fill:#aff,stroke:#333,stroke-width:1px;
  classDef redis fill:#afa;
  classDef docker fill:#faa;
  class A user;
  class C redis;
  class G redis;
  class E docker;
  class F docker;

</div>

<p>A registration message looks like </p>
<pre class="prettyprint">
{
    name: "trilamb",
    stack: "ruby",
    code: [
	{ file: "name",
	  body: "body"
	}
    ],
    subscribe: "channel",
    options: {
      environment: "default"
    }
}
</pre>
<table>
<thead>
<tr><th> Field </th><th> Description </th></tr>
</thead>
<tbody>
<tr><td> name </td><td> Name of the function </td></tr>
<tr><td> stack </td><td> <a href="http://blog.docker.com/2014/09/docker-hub-official-repos-announcing-language-stacks/">Docker Language Stack</a> to use as function execution space </td></tr>
<tr><td> subscribe </td><td> Redis channel(s) to trigger the function </td></tr>
<tr><td> options </td><td> Optional. Used to override default behaviours. At present only the environment is defined. This allows for functions to be executed in a particular swarm space. </td></tr>
<tr><td> code </td><td> An array of hashes which specify the name and contents of the function. Generally this will include a Dockerfile which is used to build the container. </td></tr>
</tbody> 
</table>
<h2>
<a id="quickstart" class="anchor" href="#quickstart" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quickstart</h2>


<h2>
<a id="similar-projects" class="anchor" href="#similar-projects" aria-hidden="true"><span class="octicon octicon-link"></span></a>Similar Projects</h2>

<ul>
  <li><a href="http://amazon.com/lambda">AWS Lambda</a></li>
  <li><a href="http://stackstorm.com">Stackstorm</a></li>
</ul>

<h2>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h2>

<p>Having trouble with Agni? Check out the wiki at <a href="https://github.com/nimblestratus/agni/wiki">https://github.com/nimblestratus/agni/wiki</a>, create an <a href="https://github.com/nimblestratus/agni/issues">issue</a> or contact <a href="mailto:agni@nimblestrat.us">agni@nimblestrat.us</a> and weâ€™ll help you sort it out.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/nimblestratus/agni/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/nimblestratus/agni/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/nimblestratus/agni"><img src="images/agni-logo-small.png" alt="Agni Logo"></a> is maintained by <a href="https://github.com/nimblestratus">nimblestratus</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-56984170-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>
  </body>
</html>
